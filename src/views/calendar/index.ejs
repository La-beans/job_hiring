<div class="calendar-container">
  <h1 class="page-title">Calendar</h1>

  <div class="calendar-layout">
    <div class="calendar-sidebar">
      <div class="month-calendar">
        <div class="month-header">
          <span><%= currentMonth %></span>
          <div class="month-nav">
            <button class="icon-button">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="icon-button">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </div>
        
        <div class="month-grid">
          <div class="weekdays">
            <div>M</div>
            <div>T</div>
            <div>W</div>
            <div>T</div>
            <div>F</div>
            <div>S</div>
            <div>S</div>
          </div>
          
          <div class="days">
            <% for (let i = 24; i <= 28; i++) { %>
              <button class="day"><%= i %></button>
            <% } %>
            <button class="day other-month">1</button>
            <button class="day other-month">2</button>
            
            <% for (let i = 0; i < 7; i++) { %>
              <button class="day other-month"></button>
            <% } %>
            
            <% for (let i = 0; i < 7; i++) { %>
              <button class="day other-month"></button>
            <% } %>
            
            <% for (let i = 0; i < 7; i++) { %>
              <button class="day other-month"></button>
            <% } %>
            
            <% for (let i = 0; i < 3; i++) { %>
              <button class="day other-month"></button>
            <% } %>
            
            <% for (let i = 1; i <= 6; i++) { %>
              <button class="day"><%= i %></button>
            <% } %>
          </div>
        </div>
      </div>
      
      <div class="event-list">
        <h3>Upcoming Events</h3>
        <% events.forEach(function(event) { %>
          <div class="event-item">
            <div class="event-title"><%= event.title %></div>
            <div class="event-date"><%= new Date(event.start_date).toLocaleString() %></div>
            <div class="event-type"><%= event.event_type %></div>
            <div class="event-status"><%= event.status %></div>
          </div>
        <% }); %>
      </div>
    </div>
    
    <div class="main-calendar">
      <div class="calendar-header">
        <h2><%= currentMonth %></h2>
        <div class="calendar-nav">
          <button class="icon-button">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="icon-button">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
      
      <div class="calendar-grid">
        <div class="weekday-header">
          <div>Mon</div>
          <div>Tue</div>
          <div>Wed</div>
          <div>Thu</div>
          <div>Fri</div>
          <div>Sat</div>
          <div>Sun</div>
        </div>
        
        <div class="calendar-days">
          <% for (let week = 0; week < 5; week++) { %>
            <% for (let day = 1; day <= 7; day++) { %>
              <div class="calendar-day <%= (week === 0 && day >= 1 && day <= 5) || (week === 1 && day === 7) ? 'has-event' : '' %>">
                <span class="day-number"><%= week * 7 + day %></span>
                <% if (week === 0 && day >= 1 && day <= 5) { %>
                  <div class="event-marker">ff</div>
                <% } %>
                <% if (week === 1 && day === 7) { %>
                  <div class="event-marker">ff</div>
                <% } %>
              </div>
            <% } %>
          <% } %>
        </div>
      </div>
    </div>
  </div>

  <div class="event-form">
    <h2>Add New Event</h2>
    <form action="/calendar" method="POST">
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" id="title" name="title" required>
      </div>
      <div class="form-group">
        <label for="description">Description</label>
        <textarea id="description" name="description"></textarea>
      </div>
      <div class="form-group">
        <label for="start_date">Start Date</label>
        <input type="datetime-local" id="start_date" name="start_date" required>
      </div>
      <div class="form-group">
        <label for="end_date">End Date</label>
        <input type="datetime-local" id="end_date" name="end_date" required>
      </div>
      <div class="form-group">
        <label for="event_type">Event Type</label>
        <select id="event_type" name="event_type" required>
          <option value="interview">Interview</option>
          <option value="application_deadline">Application Deadline</option>
          <option value="job_posting">Job Posting</option>
          <option value="custom">Custom</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary">Add Event</button>
    </form>
  </div>
</div>

<script>
  // Add JavaScript to handle event updates and deletions
  document.querySelectorAll('.event-item').forEach(item => {
    item.addEventListener('click', () => {
      const eventId = item.dataset.eventId;
      // Open a modal or navigate to an edit page for the event
    });
  });
</script>

